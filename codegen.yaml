schema: ${VITE_APP_API_PREFIX}/graphql
documents: "src/graphql/queries/*.graphql"
config:
  scalars:
    Upload: Promise<FileUpload>
generates:
  "src/graphql/graphql.ts":
    plugins:
      - typescript
      - typescript-operations
      - typescript-react-apollo
      - add:
          content:
            - "import { ReadStream } from 'fs';"
            - "interface FileUpload {"
            - "  filename: string;"
            - "  mimetype: string;"
            - "  encoding: string;"
            - "  createReadStream( options?:{ encoding?: string, highWaterMark?: number } ): ReadStream;"
            - "}"
    config:
      withHooks: true